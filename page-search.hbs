{{!< default}}
{{!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template --}}

{{!-- The big featured header, it uses blog cover image as a BG if available --}}
<header class="site-header outer">
    <div class="inner">
        {{> "site-nav"}}
    </div>
</header>

{{!-- Everything inside the #post tags pulls data from the post --}}
{{#post}}

<main id="site-main" class="site-main outer" role="main">
    <div class="inner search-page">
        <header class="post-full-header">
            <h1>Search</h1>
        </header>
        <article class="post-full no-image" style="text-align: center;">
            <input id="ghost-search-field" style="height: 30px;width: 210px;" preview="" placeholder="Type to search">
            <div id="ghost-search-results"></div>
        </article>
        <script>
            $(document).ready(function () {
                let ghostSearch = new GhostSearch({
                    host: 'https://gentlereformation.ghost.io',
                    key: '4988097ab12ee70a74a4eabdcc',
                    options: {
                        keys: [
                            'name',
                            'authors'
                        ],
                    },
                    template: result => '<a href="' + result.url + '" style="display: block;">' + result.title + ' -- ' + result.authors[0] + '</a>',
                    api: {
                        resource: 'posts',
                        parameters: {
                            limit: 'all',
                            fields: ['title', 'url'],
                            filter: '',
                            include: '',
                            order: '',
                            formats: '',
                        },
                    },
                });
            });
        </script>
    </div>
</main>

{{/post}}

{{!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs --}}
{{#contentFor "scripts"}}
<script src="https://cdn.jsdelivr.net/npm/ghost-search@1.0.1/dist/ghost-search.min.js"></script>
{{/contentFor}}